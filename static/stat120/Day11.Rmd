---
title: "Statistical Hypothesis Testing"
subtitle: "<br/> STAT 120"
author: "Bastola"
date: "`r format(Sys.Date(), ' %B %d %Y')`"
output:
  xaringan::moon_reader:
    css: ["default", css/xaringan-themer-solns.css, css/my-theme.css, css/my-font.css]
    lib_dir: libs
    chakra: libs/remark-latest.min.js
    seal: false
    nature:
      highlightStyle: googlecode  #http://arm.rbind.io/slides/xaringan.html#77 # idea, magula, googlecode, default
      highlightLines: true
      highlightLanguage: ["r", "css", "yaml"]
      countIncrementalSlides: true
      slideNumberFormat: "%current%"
      titleSlideClass: ["left", "middle", "inverse"]
      ratio: "16:9"
    includes:
      in_header: header.html  
editor_options: 
  chunk_output_type: console
---


```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
options(htmltools.preserve.raw = FALSE)
options(ggrepel.max.overlaps = Inf)

knitr::opts_chunk$set(echo = TRUE, 
                      dev = 'svg',
                      collapse = TRUE, 
                      comment = NA,  # PRINTS IN FRONT OF OUTPUT, default is '##' which comments out output
                      prompt = FALSE, # IF TRUE adds a > before each code input
                      warning = FALSE, 
                      message = FALSE,
                      fig.height = 3, 
                      fig.width = 4,
                      out.width = "100%"
                      )



# load necessary packages
library(tidyverse)
library(countdown)
library(mosaic)
library(ggthemes)
library(xaringanExtra)
library(forcats)
xaringanExtra::use_panelset()
xaringanExtra::use_tachyons()
xaringanExtra::use_clipboard()
xaringanExtra::use_extra_styles(
  hover_code_line = TRUE,         #<<
  mute_unhighlighted_code = TRUE  #<<
)
library(flipbookr)
library(patchwork)
library(Lock5Data)

# Set ggplot theme
theme_set(theme_tufte(base_size = 10))
yt <- 0
# read.csv("https://raw.githubusercontent.com/deepbas/statdatasets/main/APM_DougEvansCases.csv")
```



```{r xaringanExtra-clipboard, echo=FALSE}
htmltools::tagList(
  xaringanExtra::use_clipboard(
    button_text = "<i class=\"fa fa-clipboard\"></i>",
    success_text = "<i class=\"fa fa-check\" style=\"color: #90BE6D\"></i>",
    error_text = "<i class=\"fa fa-times-circle\" style=\"color: #F94144\"></i>"
  ),
  rmarkdown::html_dependency_font_awesome()
)
```


layout: true
  
<!-- <div class="my-footer"><span>Stat 230</span></div> -->
<!-- this adds the link footer to all slides, depends on my-footer class in css-->

---

class: title-slide, middle
<!-- background-image: url("assets/title-image2.jpg") -->
background-position: 10% 90%, 100% 50%
background-size: 160px, 100% 100%

# .fancy[Statistical Hypothesis Testing]

### .fancy[Stat 120]

`r format(Sys.Date(), ' %B %d %Y')`


---


## Introduction to Hypothesis Tests

.bqt.font80[.bold[Objective: Using data from a sample to make decisions about the broader population.]]
  
.bql.font80[ 
**Two Competing Hypotheses**: 
  1. **Null Hypothesis $(H_0)$**: Assumes no effect or no difference. 
  2. **Alternative Hypothesis $(H_a)$**: Suggests a specific effect or difference exists.
]
  

.hljs.font70[  
- **Specifying Hypotheses**: We frame these hypotheses in terms of population parameters (like mean, proportion, etc.).

- **Example**: 
  - $H_0$: The mean height of adults = 5.5 feet.
  - $H_a$: The mean height of adults ≠ 5.5 feet.

.bold[Our goal is to determine which hypothesis is more likely given our sample data.]
]

---

class: middle

## Motivating Example: Extrasensory Perception

<center>
<img src="images/psychic.jpg" width="80%" height="70%"><br>
<a></a>
</center>

.footnote[Source: [click here](http://www.gallup.com/poll/4483/Americans-Belief-Psychic-Paranormal-Phenomena-Over-Last-Decade.aspx)]

---

class: middle

# Extrasensory Perception

One way to test for ESP is with Zener cards:

.pull-left[
<br>
<br>
<center>
<img src="images/signs.png" width="70%" height="70%"><br>
<a></a>
</center>

]

.pull-right[
<center>
<img src="images/zenner.jpg" width="70%" height="70%"><br>
<a></a>
</center>

]

> Subjects draw a card at random and telepathically communicate this to someone who then guesses the symbol

---

class: middle

# Explaining Random Chance


.pull-left.font80[
.bql.font80[
## Random Chance with a Coin Toss

- A fair coin has an **equal** chance of landing **heads** or **tails**.
- Sometimes sequences like "HHHTHH" might emerge.
- Does it mean heads are more likely?

## Toss More Times!

- As we toss many more times, what happens to the ratio of heads to tails?
]
]
.pull-right[

<br>

![](https://media.giphy.com/media/26gs8DLhlh9Drr7BS/giphy.gif)

]


.footnote[[Demo: Flipping a coin](https://seeing-theory.brown.edu/basic-probability/index.html)]

---

class: action

# <i class="fa fa-pencil-square-o" style="font-size:48px;color:purple">&nbsp;Group&nbsp;Work&nbsp;`r (yt <- yt + 1)`</i>      

.pull-left-40[
![](https://media.giphy.com/media/RKApDdwsQ6jkwd6RNn/giphy.gif)
]
.pull-right-60[
<br>
.bq.font80[

- Randomly choose a letter from A B C D E and write it down (don’t show anyone!)

- Find a partner, telepathically communicate your letter (no auditory or visual clues!) and have them guess your
letter.

- Repeat a couple of times then switch roles.


]

.out-t[How often did you guess correctly?]
]

`r countdown(minutes = 10, seconds = 00, top = 0 , color_background = "inherit", padding = "3px 4px", font_size = "2em")`

---

class: middle, inverse


> Suppose you did this 10 times and guessed correctly 3 times. Is this evidence that you have ESP abilities?

---

# Extrasensory Perception

.bql[
There are five cards with five different symbols. If there is no such thing as ESP, what proportion p of guesses should be correct?

  1. $\mathrm{p}=0$
  2. $\mathrm{p}=1/ 4$
  3. $\mathrm{p}=1 / 5$
  4. $\mathrm{p}=1 / 2$
]


<br>
<details>
<summary>.red[Click for answer]</summary>
The correct answer is 3. (since there are five choices and we are randomly guessing)
</details>

---

# Extrasensory Perception 

.bql[
Let $\hat{p}$ denote the sample proportion of correct guesses. Which of the statistics below would give the strongest evidence for ESP?

  1. $\hat{\mathrm{p}}=0$
  2. $\hat{\mathrm{p}}=1 / 5$
  3. $\hat{\mathrm{p}}=1 / 2$
  4. $\hat{\mathrm{p}}=3 / 4$
]

<br>
<details>
<summary>.red[Click for answer]</summary>
The correct answer is 4. Since more correct means ESP. 
</details>


---

class: middle

# Hypothesis Testing: A Recap

.bql[
- **Goal**: Use sample data to assess population claims.
- **Null Hypothesis $(H_0)$**: No effect or difference.
- **Alternative Hypothesis $(H_a)$**: Evidence-seeking claim.
- Tests reveal if observed stats suggest genuine difference or result from random chance.
- .bold[Aim]: Refute $H_0$ with enough evidence.
]

---

# Extrasensory Perception

.bql.font120[
- As we've learned, statistics vary from sample to sample
- Even if the "population/true" proportion is $\mathrm{p}=1/5$, not every sample proportion will be exactly $1/5$
]

--

<br>
<br>

.hljs.font120[How do we determine when a sample proportion is far enough above 1/5 to provide evidence of ESP?]

---

class: middle

# ESP Hypothesis
.bql.font[
For the ESP experiment:
  - $\mathrm{H}_{0}: \mathrm{p}=1 / 5$
  - $\mathrm{H}_{\mathrm{a}}: \mathrm{p}>1 / 5$
]

---


class: middle

# Helpful hints

.bq.font90[
- $\mathrm{H}_{0}$ usually includes $=$
- $\mathrm{H}_{\mathrm{a}}$ usually includes $>,<$, or $\neq$
- The direction in $\mathrm{H}_{\mathrm{a}}$ depends on the question being asked, not based on what the data shows!
]

---


class: inverse, middle, center


# Moving Forward...


.bql.font120[How to test if observed difference between groups is real or just due to random chance?]

---

# Sleep Vs. Caffeine 

.bql.font90[
Students were given words to memorize, then randomly assigned to take either a 90 min nap, or a caffeine pill. $2 \frac{1}{2}$ hours later, they were tested on their recall ability.
- Explanatory variable: .bold[sleep or caffeine]
- Response variable: .bold[number of words recalled]
]


<br>

.hljs.font120[.b[Research Question]: Is sleep or caffeine better for memory?
]

.footnote[Mednick, Cai, Kanady, and Drummond (2008). “Comparing the benefits of caffeine, naps and placebo on verbal, motor and perceptual memory,” Behavioral Brain Research, 193, 79-86.]

---


# Sleep Vs. Caffeine

.bql.font90[

What is the parameter of interest in the sleep versus caffeine experiment?

  1. Proportion
  2. Difference in proportions
  3. Mean
  4. Difference in means
  5. Correlation
  
]

<br>
<details>
<summary>.red[Click for answer]</summary>
The correct answer is 4.

.bq[Difference in mean responses $\mu_1 - \mu_2$, where $\mu_1$ and $\mu_2$ are the mean words recalled in the two different conditions]

</details>


---

<br>
<br>

# Sleep Vs. Caffeine

.bqt[

Let $\mu_{\mathrm{s}}$ and $\mu_{\mathrm{c}}$ be the mean number of words recalled after sleeping and after caffeine.

]

<br>

--

.bql[
- Is there a difference in average word recall between sleep and caffeine?
]

---

# Sleep Vs. Caffeine

.bql.font90[
- What are the null and alternative hypothesis?

  1. $\mathrm{H}_{0}: \mu_{\mathrm{s}} \neq \mu_{\mathrm{c}}, \mathrm{H}_{\mathrm{a}}: \mu_{\mathrm{s}}=\mu_{\mathrm{c}}$
  2. $\mathrm{H}_{0}: \mu_{\mathrm{s}}=\mu_{\mathrm{c}}, \mathrm{H}_{\mathrm{a}}: \mu_{\mathrm{s}} \neq \mu_{\mathrm{c}}$
  3. $\mathrm{H}_{0}: \mu_{\mathrm{s}} \neq \mu_{\mathrm{c}}, \mathrm{H}_{\mathrm{a}}: \mu_{\mathrm{s}}>\mu_{\mathrm{c}}$
  4. $\mathrm{H}_{0}: \mu_{\mathrm{s}}=\mu_{\mathrm{c}}, \mathrm{H}_{\mathrm{a}}: \mu_{\mathrm{s}}>\mu_{\mathrm{c}}$
  5. $\mathrm{H}_{0}: \mu_{\mathrm{s}}=\mu_{\mathrm{c}}, \mathrm{H}_{\mathrm{a}}: \mu_{\mathrm{s}}<\mu_{\mathrm{c}}$
]

<br>

<details>
<summary>.red[Click for answer]</summary>
The correct answer is 2 (since we are looking for evidence that the means are different)
</details>

---

## Random chance using [Statkey](https://www.lock5stat.com/StatKey/index.html)

.bq.font60[How can we be sure if an observed difference between two groups is real, or if it's just something that could happen by random chance?]

<center>
<img src="images/sleep_caffiene.png" width="60%" height="50%"><br>
<a></a>
</center>


---

class: action

# <i class="fa fa-pencil-square-o" style="font-size:48px;color:purple">&nbsp;Group&nbsp;Work&nbsp;`r (yt <- yt + 1)`</i>     

.pull-left-40[
![](https://media.giphy.com/media/RKApDdwsQ6jkwd6RNn/giphy.gif)
]
.pull-right-60[

<br>
<br>
.bql[

- Let's go over some more examples at the [course helper page](https://stat120-fall23.netlify.app/)
- We will then do a class activity together
]
]

`r countdown(minutes = 20, seconds = 00, top = 0 , color_background = "inherit", padding = "3px 4px", font_size = "2em")`

