<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Web Scraping</title>
    <meta charset="utf-8" />
    <meta name="author" content="Bastola" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <link href="libs/tachyons/tachyons.min.css" rel="stylesheet" />
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <link href="libs/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <script>window.xaringanExtraClipboard(null, {"button":"<i class=\"fa fa-clipboard\"><\/i>","success":"<i class=\"fa fa-check\" style=\"color: #90BE6D\"><\/i>","error":"<i class=\"fa fa-times-circle\" style=\"color: #F94144\"><\/i>"})</script>
    <link href="libs/font-awesome/css/all.min.css" rel="stylesheet" />
    <link href="libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding/datatables.js"></script>
    <script src="libs/jquery/jquery-3.6.0.min.js"></script>
    <link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.min.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <script src="https://use.fontawesome.com/5235085b15.js"></script>

    <link rel="stylesheet" href="css/xaringan-themer-solns.css" type="text/css" />
    <link rel="stylesheet" href="css/my-theme.css" type="text/css" />
    <link rel="stylesheet" href="css/my-font.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">










layout: true
  
---

class: title-slide, middle

# .fancy[Web Scraping]

### .fancy[Spring 2023]

 May 02 2023

---

class: inverse, middle

.Large[Web scraping]


.bql.Large[
the process of downloading, parsing, and extracting data presented in an HTML file and then converting it into a structured format that allows us to analyze it.]


---

class: middle

# .purple[Two different scenarios:]

.font100.bq[
1. .bold[Screen scraping:] extract data from source code of website, with html parser (easy) or regular expression matching (less easy).

2. .bold[Web APIs (application programming interface):] website offers a set of structured http requests that return JSON or XML files.
]

&lt;!-- API is a messenger that takes requests, and then returns a response back to you --&gt;
---

class: middle


background-image: url("images/polite.png") 
background-position: left 
background-size: 300px, 90% 90%

##  `polite` package


.pull-right-60[


.bq[

- Two main functions `bow` and `scrape` define and realize a web harvesting session
- Builds on awesome toolkits for defining and managing http sessions using `rvest`
]
]


.footnote[[Polite Documentation](https://www.rdocumentation.org/packages/polite/versions/0.1.2)]

---


class: center, inverse, top
background-image: url("images/mncorn.png")
background-size: cover

--

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

## .yellow.font150[Can we scrape this webpage?]



---

class: middle


# `polite`:: bow() 


.font120[

```r
session &lt;- bow("https://www.mncorn.org/corn-facts/", 
               user_agent = "data enthusiast")
```


```r
session
&lt;polite session&gt; https://www.mncorn.org/corn-facts/
    User-agent: data enthusiast
    robots.txt: 2 rules are defined for 1 bots
   Crawl delay: 5 sec
*  The path is scrapable for this user-agent
```


]


---

class: middle

# `polite`:: scrape()

.font120[

```r
session &lt;- session %&gt;%
  scrape()
```
]


```r
session
{html_document}
*&lt;html class="no-js" lang="en-US"&gt;
[1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
[2] &lt;body class="page-template page-template-page-cornfacts page-template-pag ...
```


---

class: middle

# HyperText Markup Language (HTML)

&lt;!-- 

- Each line of code tells the browser how to show every element in your display by assigning tags to each component within the body tag. --&gt;

&lt;!-- - Most of the data on the web is still largely available as HTML --&gt;

&gt; HTML page consists of series of elements which browsers use to interpret how to display the content

&lt;img src="images/html.png"  width="600" height="400" class="center"&gt;

&lt;br&gt;


&lt;!--
- Contains all the metadata inside the head tag

- Only need to understand the document’s body tag as there’s where the content we want to scrape resides.

--&gt;


---

# HyperText Markup Language (HTML)

&gt; While it is structured (hierarchical/tree based) it often is not available in a form useful for analysis (flat/tidy).

&lt;br&gt;

.font120[
```html
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;This is a title&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p align="center"&gt;Hello world!&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
```
]

.footnote[Try HTML code yourself by clicking [here](https://www.w3schools.com/html/tryit.asp?filename=tryhtml_default_default)]

---

## HTML tags

&gt; HTML uses `tags` to describe different aspects of document content

&lt;br&gt;
&lt;br&gt;

.font120[
Tag         |  Example
------------|---------------------------------------------------------------
heading     | `&lt;h1&gt;My Title&lt;/h1&gt;`
paragraph   | `&lt;p&gt;A paragraph of content...&lt;/p&gt;`
table       | `&lt;table&gt; ... &lt;/table&gt;`
anchor (with attribute)     | `&lt;a href="https://www.mncorn.org/"&gt;click here for link&lt;/a&gt;`
]

---

class: middle

.pull-left-40[

&lt;img src="images/rvest.png"  width="200" height="150" class="center"&gt;


]

.pull-right-60[
# `Rvest`: collection of functions that make basic processing and manipulation of HTML data straight forward.
]


.font100[
Function      | Description
--------------|---------------------------------------------
`read_html`   | Read HTML data from a url or character string
`html_node `  | Select a specified node from HTML document
`html_nodes`  | Select specified nodes from HTML document
`html_table`  | Parse an HTML table into a data frame
`html_text`   | Extract tag pairs' content
`html_name`   | Extract tags' names
`html_attrs`  | Extract all of each tag's attributes
`html_attr`   | Extract tags' attribute value by name

]

---

background-image: url(images/imdb_charts.png)
background-position: center
background-size: cover

# .center[http://www.imdb.com/chart/top/]

---

count: false
 
## Demo: read tables into R
.panel1-demo1-auto[

```r
*bow("http://www.imdb.com/chart/top/")
```
]
 
.panel2-demo1-auto[

```
&lt;polite session&gt; http://www.imdb.com/chart/top/
    User-agent: polite R package
    robots.txt: 34 rules are defined for 2 bots
   Crawl delay: 5 sec
  The path is scrapable for this user-agent
```
]

---
count: false
 
## Demo: read tables into R
.panel1-demo1-auto[

```r
bow("http://www.imdb.com/chart/top/") %&gt;%
* scrape()
```
]
 
.panel2-demo1-auto[

```
{html_document}
&lt;html xmlns:og="http://ogp.me/ns#" xmlns:fb="http://www.facebook.com/2008/fbml"&gt;
[1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
[2] &lt;body id="styleguide-v2" class="fixed"&gt;\n            &lt;img height="1" widt ...
```
]

---
count: false
 
## Demo: read tables into R
.panel1-demo1-auto[

```r
bow("http://www.imdb.com/chart/top/") %&gt;%
  scrape() %&gt;%
* html_nodes("table")
```
]
 
.panel2-demo1-auto[

```
{xml_nodeset (1)}
[1] &lt;table class="chart full-width" data-caller-name="chart-top250movie"&gt;\n&lt;c ...
```
]

---
count: false
 
## Demo: read tables into R
.panel1-demo1-auto[

```r
bow("http://www.imdb.com/chart/top/") %&gt;%
  scrape() %&gt;%
  html_nodes("table") %&gt;%
* purrr::pluck(1)
```
]
 
.panel2-demo1-auto[

```
{html_node}
&lt;table class="chart full-width" data-caller-name="chart-top250movie"&gt;
[1] &lt;colgroup&gt;\n&lt;col class="chartTableColumnPoster"&gt;\n&lt;col class="chartTableC ...
[2] &lt;thead&gt;&lt;tr&gt;\n&lt;th&gt;&lt;/th&gt;\n          &lt;th&gt;Rank &amp;amp; Title&lt;/th&gt;\n          &lt;t ...
[3] &lt;tbody class="lister-list"&gt;\n&lt;tr&gt;\n&lt;td class="posterColumn"&gt;\n\n    &lt;span ...
```
]

---
count: false
 
## Demo: read tables into R
.panel1-demo1-auto[

```r
bow("http://www.imdb.com/chart/top/") %&gt;%
  scrape() %&gt;%
  html_nodes("table") %&gt;%
  purrr::pluck(1) %&gt;%
* html_table()
```
]
 
.panel2-demo1-auto[

```
# A tibble: 250 × 5
   ``    `Rank &amp; Title`                                    IMDb …¹ Your …² ``   
   &lt;lgl&gt; &lt;chr&gt;                                               &lt;dbl&gt; &lt;chr&gt;   &lt;lgl&gt;
 1 NA    "1.\n      The Shawshank Redemption\n        (19…     9.2 "12345… NA   
 2 NA    "2.\n      The Godfather\n        (1972)"             9.2 "12345… NA   
 3 NA    "3.\n      The Dark Knight\n        (2008)"           9   "12345… NA   
 4 NA    "4.\n      The Godfather Part II\n        (1974)"     9   "12345… NA   
 5 NA    "5.\n      12 Angry Men\n        (1957)"              9   "12345… NA   
 6 NA    "6.\n      Schindler's List\n        (1993)"          8.9 "12345… NA   
 7 NA    "7.\n      The Lord of the Rings: The Return of …     8.9 "12345… NA   
 8 NA    "8.\n      Pulp Fiction\n        (1994)"              8.8 "12345… NA   
 9 NA    "9.\n      The Lord of the Rings: The Fellowship…     8.8 "12345… NA   
10 NA    "10.\n      The Good, the Bad and the Ugly\n    …     8.8 "12345… NA   
# … with 240 more rows, and abbreviated variable names ¹​`IMDb Rating`,
#   ²​`Your Rating`
```
]

&lt;style&gt;
.panel1-demo1-auto {
  color: black;
  width: 39.2%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 90%
}
.panel2-demo1-auto {
  color: black;
  width: 58.8%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 90%
}
.panel3-demo1-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 90%
}
&lt;/style&gt;





---

class: middle, inverse

# CSS 

.bql[
- CSS (Cascading Style Sheets) is a language that describes how HTML elements should be displayed. 

- .bold[CSS selectors:] 

  * shortcuts for selecting HTML elements to style  
  * can also be used to extract the content of these elements

]

---

# SelectorGadget

.bq.font80[SelectorGadget is a point-and-click CSS selector, specifically for .bold[Chrome],  and it comes as a [Chrome Extension](https://chrome.google.com/webstore/detail/selectorgadget/mhjhnkcfbdhnjickkkdbjoemdmbfginb) .red[(Click to install!)]
]

&lt;br&gt;

![](images/best-picture-2023.png)

.footnote[Click [here](https://www.w3schools.com/cssref/css_selectors.asp) for a list of selectors ]
---

## SelectorGadget: select all elements that are related to that object. Next, de-select anything in yellow you do not want


&lt;center&gt;
&lt;img src="images/selector.gif"  width="650" height="500" class="center"&gt;
&lt;/center&gt;

---

class: middle

## Read HTML into R

.code80[

```r
webpage &lt;- bow('https://www.imdb.com/search/title/?groups=best_picture_winner&amp;sort=year,desc&amp;count=100&amp;view=advanced') %&gt;%
  scrape()
```
]

.code100[

```r
webpage
{html_document}
&lt;html xmlns:og="http://ogp.me/ns#" xmlns:fb="http://www.facebook.com/2008/fbml"&gt;
[1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
[2] &lt;body id="styleguide-v2" class="fixed"&gt;\n            &lt;img height="1" widt ...
```
]

.footnote[Click [here](https://www.imdb.com/search/title/?groups=best_picture_winner&amp;sort=year,desc&amp;count=100&amp;view=advanced) to go to webpage]

---

# Extract titles

Use `html_nodes()` to extract pieces out of HTML documents

.code100[

```r
title_data &lt;- webpage %&gt;% html_nodes(".lister-item-header a") %&gt;% html_text()
```
]
.scroll-box-14[

```r
title_data
 [1] "Everything Everywhere All at Once"              
 [2] "CODA"                                           
 [3] "Nomadland"                                      
 [4] "Parasite"                                       
 [5] "Green Book"                                     
 [6] "The Shape of Water"                             
 [7] "Moonlight"                                      
 [8] "Spotlight"                                      
 [9] "Birdman or (The Unexpected Virtue of Ignorance)"
[10] "12 Years a Slave"                               
[11] "Argo"                                           
[12] "The Artist"                                     
[13] "The King's Speech"                              
[14] "Slumdog Millionaire"                            
[15] "The Hurt Locker"                                
[16] "No Country for Old Men"                         
[17] "The Departed"                                   
[18] "Crash"                                          
[19] "Million Dollar Baby"                            
[20] "The Lord of the Rings: The Return of the King"  
[21] "Chicago"                                        
[22] "A Beautiful Mind"                               
[23] "Gladiator"                                      
[24] "American Beauty"                                
[25] "Shakespeare in Love"                            
[26] "Titanic"                                        
[27] "The English Patient"                            
[28] "Braveheart"                                     
[29] "Forrest Gump"                                   
[30] "Schindler's List"                               
[31] "Unforgiven"                                     
[32] "The Silence of the Lambs"                       
[33] "Dances with Wolves"                             
[34] "Driving Miss Daisy"                             
[35] "Rain Man"                                       
[36] "The Last Emperor"                               
[37] "Platoon"                                        
[38] "Out of Africa"                                  
[39] "Amadeus"                                        
[40] "Terms of Endearment"                            
[41] "Gandhi"                                         
[42] "Chariots of Fire"                               
[43] "Ordinary People"                                
[44] "Kramer vs. Kramer"                              
[45] "The Deer Hunter"                                
[46] "Annie Hall"                                     
[47] "Rocky"                                          
[48] "One Flew Over the Cuckoo's Nest"                
[49] "The Godfather Part II"                          
[50] "The Sting"                                      
[51] "The Godfather"                                  
[52] "The French Connection"                          
[53] "Patton"                                         
[54] "Midnight Cowboy"                                
[55] "Oliver!"                                        
[56] "In the Heat of the Night"                       
[57] "A Man for All Seasons"                          
[58] "The Sound of Music"                             
[59] "My Fair Lady"                                   
[60] "Tom Jones"                                      
[61] "Lawrence of Arabia"                             
[62] "West Side Story"                                
[63] "The Apartment"                                  
[64] "Ben-Hur"                                        
[65] "Gigi"                                           
[66] "The Bridge on the River Kwai"                   
[67] "Around the World in 80 Days"                    
[68] "Marty"                                          
[69] "On the Waterfront"                              
[70] "From Here to Eternity"                          
[71] "The Greatest Show on Earth"                     
[72] "An American in Paris"                           
[73] "All About Eve"                                  
[74] "All the King's Men"                             
[75] "Hamlet"                                         
[76] "Gentleman's Agreement"                          
[77] "The Best Years of Our Lives"                    
[78] "The Lost Weekend"                               
[79] "Going My Way"                                   
[80] "Casablanca"                                     
[81] "Mrs. Miniver"                                   
[82] "How Green Was My Valley"                        
[83] "Rebecca"                                        
[84] "Gone with the Wind"                             
[85] "You Can't Take It with You"                     
[86] "The Life of Emile Zola"                         
[87] "The Great Ziegfeld"                             
[88] "Mutiny on the Bounty"                           
[89] "It Happened One Night"                          
[90] "Cavalcade"                                      
[91] "Grand Hotel"                                    
[92] "Cimarron"                                       
[93] "All Quiet on the Western Front"                 
[94] "The Broadway Melody"                            
[95] "Sunrise"                                        
[96] "Wings"                                          
```
]

---

# Scrapped table


.scroll-output[
<div id="htmlwidget-d82a4538311927127f42" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-d82a4538311927127f42">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96"],[2022,2021,2020,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2008,2008,2007,2006,2004,2004,2003,2002,2001,2000,1999,1998,1997,1996,1995,1994,1993,1992,1991,1990,1989,1988,1987,1986,1985,1984,1983,1982,1981,1980,1979,1978,1977,1976,1975,1974,1973,1972,1971,1970,1969,1968,1967,1966,1965,1964,1963,1962,1961,1960,1959,1958,1957,1956,1955,1954,1953,1952,1951,1950,1949,1948,1947,1946,1945,1944,1942,1942,1941,1940,1939,1938,1937,1936,1935,1934,1933,1932,1931,1930,1929,1927,1927],["Everything Everywhere All at Once","CODA","Nomadland","Parasite","Green Book","The Shape of Water","Moonlight","Spotlight","Birdman or (The Unexpected Virtue of Ignorance)","12 Years a Slave","Argo","The Artist","The King's Speech","Slumdog Millionaire","The Hurt Locker","No Country for Old Men","The Departed","Crash","Million Dollar Baby","The Lord of the Rings: The Return of the King","Chicago","A Beautiful Mind","Gladiator","American Beauty","Shakespeare in Love","Titanic","The English Patient","Braveheart","Forrest Gump","Schindler's List","Unforgiven","The Silence of the Lambs","Dances with Wolves","Driving Miss Daisy","Rain Man","The Last Emperor","Platoon","Out of Africa","Amadeus","Terms of Endearment","Gandhi","Chariots of Fire","Ordinary People","Kramer vs. Kramer","The Deer Hunter","Annie Hall","Rocky","One Flew Over the Cuckoo's Nest","The Godfather Part II","The Sting","The Godfather","The French Connection","Patton","Midnight Cowboy","Oliver!","In the Heat of the Night","A Man for All Seasons","The Sound of Music","My Fair Lady","Tom Jones","Lawrence of Arabia","West Side Story","The Apartment","Ben-Hur","Gigi","The Bridge on the River Kwai","Around the World in 80 Days","Marty","On the Waterfront","From Here to Eternity","The Greatest Show on Earth","An American in Paris","All About Eve","All the King's Men","Hamlet","Gentleman's Agreement","The Best Years of Our Lives","The Lost Weekend","Going My Way","Casablanca","Mrs. Miniver","How Green Was My Valley","Rebecca","Gone with the Wind","You Can't Take It with You","The Life of Emile Zola","The Great Ziegfeld","Mutiny on the Bounty","It Happened One Night","Cavalcade","Grand Hotel","Cimarron","All Quiet on the Western Front","The Broadway Melody","Sunrise","Wings"],["A middle-aged Chinese immigrant is swept up into an insane adventure in which she alone can save existence by exploring other universes and connecting with the lives she could have led.","As a CODA (Child of Deaf Adults) Ruby is the only hearing person in her deaf family. When the family's fishing business is threatened, Ruby finds herself torn between pursuing her passion at Berklee College of Music and her fear of abandoning her parents.","A woman in her sixties, after losing everything in the Great Recession, embarks on a journey through the American West, living as a van-dwelling modern-day nomad.","Greed and class discrimination threaten the newly formed symbiotic relationship between the wealthy Park family and the destitute Kim clan.","A working-class Italian-American bouncer becomes the driver for an African-American classical pianist on a tour of venues through the 1960s American South.","At a top secret research facility in the 1960s, a lonely janitor forms a unique relationship with an amphibious creature that is being held in captivity.","A young African-American man grapples with his identity and sexuality while experiencing the everyday struggles of childhood, adolescence, and burgeoning adulthood.","The true story of how the Boston Globe uncovered the massive scandal of child molestation and cover-up within the local Catholic Archdiocese, shaking the entire Catholic Church to its core.","A washed-up superhero actor attempts to revive his fading career by writing, directing, and starring in a Broadway production.","In the antebellum United States, Solomon Northup, a free black man from upstate New York, is abducted and sold into slavery.","Acting under the cover of a Hollywood producer scouting a location for a science fiction film, a CIA agent launches a dangerous operation to rescue six Americans in Tehran during the U.S. hostage crisis in Iran in 1979.","An egomaniacal film star develops a relationship with a young dancer against the backdrop of Hollywood's silent era.","The story of King George VI, his impromptu ascension to the throne of the British Empire in 1936, and the speech therapist who helped the unsure monarch overcome his stammer.","A Mumbai teenager reflects on his life after being accused of cheating on the Indian version of \"Who Wants to be a Millionaire?\".","During the Iraq War, a Sergeant recently assigned to an army bomb squad is put at odds with his squad mates due to his maverick way of handling his work.","Violence and mayhem ensue after a hunter stumbles upon a drug deal gone wrong and more than two million dollars in cash near the Rio Grande.","An undercover cop and a mole in the police attempt to identify each other while infiltrating an Irish gang in South Boston.","Los Angeles citizens with vastly separate lives collide in interweaving stories of race, loss and redemption.","A determined woman works with a hardened boxing trainer to become a professional.","Gandalf and Aragorn lead the World of Men against Sauron's army to draw his gaze from Frodo and Sam as they approach Mount Doom with the One Ring.","Two death-row murderesses develop a fierce rivalry while competing for publicity, celebrity, and a sleazy lawyer's attention.","After John Nash, a brilliant but asocial mathematician, accepts secret work in cryptography, his life takes a turn for the nightmarish.","A former Roman General sets out to exact vengeance against the corrupt emperor who murdered his family and sent him into slavery.","A sexually frustrated suburban father has a mid-life crisis after becoming infatuated with his daughter's best friend.","The world's greatest ever playwright, William Shakespeare, is young, out of ideas and short of cash, but meets his ideal woman and is inspired to write one of his most famous plays.","A seventeen-year-old aristocrat falls in love with a kind but poor artist aboard the luxurious, ill-fated R.M.S. Titanic.","At the close of World War II, a young nurse tends to a badly-burned plane crash victim. His past is shown in flashbacks, revealing an involvement in a fateful love affair.","Scottish warrior William Wallace leads his countrymen in a rebellion to free his homeland from the tyranny of King Edward I of England.","The presidencies of Kennedy and Johnson, the Vietnam War, the Watergate scandal and other historical events unfold from the perspective of an Alabama man with an IQ of 75, whose only desire is to be reunited with his childhood sweetheart.","In German-occupied Poland during World War II, industrialist Oskar Schindler gradually becomes concerned for his Jewish workforce after witnessing their persecution by the Nazis.","Retired Old West gunslinger William Munny reluctantly takes on one last job, with the help of his old partner Ned Logan and a young man, The \"Schofield Kid.\"","A young F.B.I. cadet must receive the help of an incarcerated and manipulative cannibal killer to help catch another serial killer, a madman who skins his victims.","Lieutenant John Dunbar, assigned to a remote western Civil War outpost, finds himself engaging with a neighbouring Sioux settlement, causing him to question his own purpose.","An old Jewish woman and her African-American chauffeur in the American South have a relationship that grows and improves over the years.","After a selfish L.A. yuppie learns his estranged father left a fortune to an autistic-savant brother in Ohio that he didn't know existed, he absconds with his brother and sets out across the country, hoping to gain a larger inheritance.","Dramatization of China's last emperor, Puyi.","Chris Taylor, a neophyte recruit in Vietnam, finds himself caught in a battle of wills between two sergeants, one good and the other evil. A shrewd examination of the brutality of war and the duality of man in conflict.","In 20th-century colonial Kenya, a Danish baroness/plantation owner has a passionate love affair with a free-spirited big-game hunter.","The life, success and troubles of Wolfgang Amadeus Mozart, as told by Antonio Salieri, the contemporaneous composer who was deeply jealous of Mozart's talent and claimed to have murdered him.","Follows hard-to-please Aurora looking for love and her daughter's family problems.","The life of the lawyer who became the famed leader of the Indian revolts against the British rule through his philosophy of nonviolent protest.","Two British track athletes, one a determined Jew and the other a devout Christian, are driven to win in the 1924 Olympics as they wrestle with issues of pride and conscience.","The accidental death of the older son of an affluent family deeply strains the relationships among the bitter mother, the good-natured father and the guilt-ridden younger son.","After his wife leaves him, a work-obsessed Manhattan advertising executive is forced to learn long-neglected parenting skills, but a heated custody battle over the couple's young son deepens the wounds left by the separation.","An in-depth examination of the ways in which the Vietnam War impacts and disrupts the lives of several friends in a small steel mill town in Pennsylvania.","Alvy Singer, a divorced Jewish comedian, reflects on his relationship with ex-lover Annie Hall, an aspiring nightclub singer, which ended abruptly just like his previous marriages.","A small-time Philadelphia boxer gets a supremely rare chance to fight the world heavyweight champion in a bout in which he strives to go the distance for his self-respect.","In the Fall of 1963, a Korean War veteran and criminal pleads insanity and is admitted to a mental institution, where he rallies up the scared patients against the tyrannical nurse.","The early life and career of Vito Corleone in 1920s New York City is portrayed, while his son, Michael, expands and tightens his grip on the family crime syndicate.","Two grifters team up to pull off the ultimate con.","The aging patriarch of an organized crime dynasty in postwar New York City transfers control of his clandestine empire to his reluctant youngest son.","A pair of NYPD detectives in the Narcotics Bureau stumble onto a heroin smuggling ring based in Marseilles, but stopping them and capturing their leaders proves an elusive goal.","The World War II phase of the career of controversial American general George S. Patton.","A naive hustler travels from Texas to New York City to seek personal fortune, finding a new friend in the process.","After being sold to a mortician, young orphan Oliver Twist runs away and meets a group of boys trained to be pickpockets by an elderly mentor in 1830s London.","A black Philadelphia police detective is mistakenly suspected of a local murder while passing through a racially hostile Mississippi town, and after being cleared is reluctantly asked by the police chief to investigate the case.","The story of Sir Thomas More, who stood up to King Henry VIII when the King rejected the Roman Catholic Church to obtain a divorce and remarry.","A young novice is sent by her convent in 1930s Austria to become a governess to the seven children of a widowed naval officer.","In 1910s London, snobbish phonetics professor Henry Higgins agrees to a wager that he can make crude flower girl, Eliza Doolittle, presentable in high society.","The romantic and chivalrous adventures of adopted bastard Tom Jones in 18th-century England.","The story of T.E. Lawrence, the English officer who successfully united and led the diverse, often warring, Arab tribes during World War I in order to fight the Turks.","Two youngsters from rival New York City gangs fall in love, but tensions between their respective friends build toward tragedy.","A Manhattan insurance clerk tries to rise in his company by letting its executives use his apartment for trysts, but complications and a romance of his own ensue.","After a Jewish prince is betrayed and sent into slavery by a Roman friend in 1st-century Jerusalem, he regains his freedom and comes back for revenge.","Weary of the conventions of Parisian society, a rich playboy and a youthful courtesan-in-training enjoy a platonic friendship which may not stay platonic for long.","British POWs are forced to build a railway bridge across the river Kwai for their Japanese captors in occupied Burma, not knowing that the allied forces are planning a daring commando raid through the jungle to destroy it.","A Victorian Englishman bets that with the new steamships and railways he can circumnavigate the globe in eighty days.","A middle-aged butcher and a school teacher who have given up on the idea of love meet at a dance and fall for each other.","An ex-prize fighter turned New Jersey longshoreman struggles to stand up to his corrupt union bosses, including his older brother, as he starts to connect with the grieving sister of one of the syndicate's victims.","At a U.S. Army base in 1941 Hawaii, a private is cruelly punished for not boxing on his unit's team, while his commanding officer's wife and top aide begin a tentative affair.","The dramatic lives of trapeze artists, a clown, and an elephant trainer are told against a background of circus spectacle.","Three friends struggle to find work in Paris. Things become more complicated when two of them fall in love with the same woman.","A seemingly timid but secretly ruthless ingénue insinuates herself into the lives of an aging Broadway star and her circle of theater friends.","The rise and fall of a corrupt politician, who makes his friends richer and retains power by dint of a populist appeal.","Prince Hamlet struggles over whether or not he should kill his uncle, whom he suspects has murdered his father, the former king.","A reporter pretends to be Jewish in order to cover a story on anti-Semitism, and personally discovers the true depths of bigotry and hatred.","Three World War II veterans, two of them traumatized or disabled, return home to the American midwest to discover that they and their families have been irreparably changed.","The desperate life of a chronic alcoholic is followed through a four-day drinking bout.","When young Father O'Malley arrives at St. Dominic's, old Father Fitzgibbon doesn't think much of the church's newest member.","A cynical expatriate American cafe owner struggles to decide whether or not to help his former lover and her fugitive husband escape the Nazis in French Morocco.","A British family struggles to survive the first months of World War II.","At the turn of the century in a Welsh mining village, the Morgans, he stern, she gentle, raise coal-mining sons and hope their youngest will find a better life.","A self-conscious woman juggles adjusting to her new role as an aristocrat's wife and avoiding being intimidated by his first wife's spectral presence.","American motion picture classic in which a manipulative woman and a roguish man conduct a turbulent romance during the Civil War and Reconstruction periods.","The son of a snobbish Wall Street banker becomes engaged to a woman from a good-natured but decidedly eccentric family, not realizing that his father is trying to force her family from their home for a real estate development.","The biopic of the famous French muckraking writer and his involvement in fighting the injustice of the Dreyfus Affair.","The ups and downs of Florenz Ziegfeld Jr., famed producer of extravagant stage revues, are portrayed.","First mate Fletcher Christian leads a revolt against his sadistic commander, Captain Bligh, in this classic seafaring adventure, based on the real-life 1789 mutiny.","A renegade reporter trailing a young runaway heiress for a big story joins her on a bus heading from Florida to New York, and they end up stuck with each other when the bus leaves them behind at one of the stops.","A portrayal of the triumphs and tragedies of two English families, the upper-crust Marryots and the working-class Bridgeses, from 1899 to 1933.","A group of very different individuals staying at a luxurious hotel in Berlin deal with each of their respective dramas.","A newspaper editor settles in an Oklahoma boom town with his reluctant wife at the end of the nineteenth century.","A German youth eagerly enters World War I, but his enthusiasm wanes as he gets a firsthand view of the horror.","A pair of sisters from the vaudeville circuit try to make it big time on Broadway, but matters of the heart complicate the attempt.","A sophisticated city woman seduces a farmer and convinces him to murder his wife and join her in the city, but he ends up rekindling his romance with his wife when he changes his mind at the last moment.","Two young men, one rich, one middle class, who are in love with the same woman, become fighter pilots in World War I."],[139,111,107,132,130,123,111,129,119,134,120,100,118,120,131,122,151,112,132,201,113,135,155,122,123,194,162,178,142,195,130,118,181,99,133,163,120,161,160,132,191,125,124,105,183,93,120,133,202,129,175,104,172,113,153,110,120,172,170,129,218,153,125,212,115,161,175,90,108,118,152,114,138,110,154,118,170,101,126,102,134,118,130,238,126,116,176,132,105,112,112,123,152,100,94,144],[7.9,8,7.3,8.5,8.2,7.3,7.4,8.1,7.7,8.1,7.7,7.9,8,8,7.5,8.2,8.5,7.7,8.1,9,7.2,8.2,8.5,8.3,7.1,7.9,7.4,8.4,8.8,9,8.2,8.6,8,7.3,8,7.7,8.1,7.1,8.4,7.4,8,7.1,7.7,7.8,8.1,8,8.1,8.7,9,8.3,9.2,7.7,7.9,7.8,7.4,7.9,7.7,8.1,7.8,6.4,8.3,7.6,8.3,8.1,6.6,8.1,6.7,7.7,8.1,7.6,6.6,7.2,8.2,7.4,7.6,7.2,8.1,7.9,7,8.5,7.6,7.7,8.1,8.2,7.8,7.2,6.6,7.6,8.1,5.8,7.3,5.8,8.1,5.6,8.1,7.6],[436680,144514,169564,846961,515352,430965,317119,480554,643860,713847,623447,244499,690479,857195,460123,997341,1351090,441801,698219,1880543,235209,947550,1530162,1170879,228958,1215452,194551,1052944,2127379,1380216,419546,1461910,275147,113300,525280,106867,422172,82858,408575,62570,235924,63224,54203,149053,345769,269835,595939,1025373,1296049,268828,1901015,127149,104746,114630,39876,79160,35773,243644,98199,13654,300162,117141,185970,244533,23656,225043,28532,25435,158113,48689,15299,35163,133671,15732,17617,17087,66819,38514,12560,581708,18537,25231,140400,321584,26724,8595,8564,23906,106876,5541,20091,6568,65316,7605,52215,13620]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year<\/th>\n      <th>Title<\/th>\n      <th>Description<\/th>\n      <th>Runtime<\/th>\n      <th>Rating<\/th>\n      <th>Votes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"columnDefs":[{"className":"dt-right","targets":[1,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
]

.footnote[ [Original webpage](https://www.imdb.com/search/title/?count=100&amp;groups=oscar_best_picture_winners&amp;sort=year%2Cdesc&amp;ref_=nv_ch_osc)]

---


class: action, middle

# &lt;i class="fa fa-pencil-square-o" style="font-size:48px;color:purple"&gt;&amp;nbsp;Group&amp;nbsp;Activity&amp;nbsp;1&lt;/i&gt;    


.pull-left-40[
![](https://media.giphy.com/media/RKApDdwsQ6jkwd6RNn/giphy.gif)
]
.pull-right-60[
&lt;br&gt;
.bql[
- Let's go over to maize server/ local Rstudio and our class [moodle](https://moodle.carleton.edu/course/view.php?id=41417)
- Get the class activity 16.Rmd file
- Work on activity 1
- Ask me questions
]

]

<div class="countdown" id="timer_a64e1139" data-update-every="1" tabindex="0" style="top:0;right:0;padding:3px 4px;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">15</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>


---

background-image: url(images/imdb_tvshows_2023.png)
background-position: center
background-size: 100% 98%

# .center[http://www.imdb.com/chart/tvmeter]

---

# Scrapped table

.scroll-output[
<div id="htmlwidget-c9f147c964ee2bf33bbd" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-c9f147c964ee2bf33bbd">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],["The Diplomat","Succession","Beef","Ted Lasso","The Mandalorian","Citadel","Love &amp; Death","The Night Agent","Jury Duty","Yellowjackets","The Diplomat","Barry","Dead Ringers","Star Trek: Picard","From","The Marvelous Mrs. Maisel","Mrs. Davis","Better Call Saul","Black Mirror","The Last of Us","Game of Thrones","The Witcher","Florida Man","The Last Kingdom","Breaking Bad","Obsession","The Rookie","The Walking Dead","Yellowstone","The Last Thing He Told Me","Rough Diamonds","Rabbit Hole","Grey's Anatomy","Sweet Tooth","Perry Mason","The White Lotus","The Blacklist","Shameless","Young Sheldon","The Flash","True Detective","Stranger Things","Demon Slayer: Kimetsu no Yaiba","The Office","Shrinking","The Boys","Law &amp; Order: Special Victims Unit","Supernatural","It's Always Sunny in Philadelphia","The Sopranos","Daisy Jones &amp; The Six","Firefly Lane","Welcome to Eden","Attack on Titan","NCIS","Criminal Minds","Modern Family","Ahsoka","Suits","Malpractice","Saint X","Friends","Titans","You","Peaky Blinders","The Good Doctor","The Marked Heart","Silo","Will Trent","1923","The Big Bang Theory","Snowfall","Workin' Moms","South Park","Sex/Life","Shadow and Bone","Wednesday","Severance","9-1-1","True Lies","Bones","Vikings","House of the Dragon","American Horror Story","Andor","Star Trek: The Next Generation","Fubar","Euphoria","Doctor Who","Blue Lights","The Wire","Abbott Elementary","House M.D.","The Power","The Nurse","Blue Bloods","Poker Face","Midsomer Murders","Brooklyn Nine-Nine","Ghosts"],[8.2,8.8,8.2,8.8,8.7,6.5,7.7,7.6,8.5,7.9,6.6,8.4,6.4,7.4,7.7,8.7,7.2,8.9,8.8,8.8,9.2,8.1,6.8,8.5,9.5,5.1,8,8.1,8.7,6.9,7.4,7.6,7.6,7.8,7.6,7.9,8,8.6,7.6,7.5,8.9,8.7,8.7,9,8,8.7,8.1,8.4,8.8,9.2,8.1,7.5,5.6,9.1,7.8,8.1,8.5,null,8.4,7.1,5.4,8.9,7.5,7.7,8.8,8,6.5,null,7.6,8.4,8.2,8.3,7.8,8.7,5.5,7.6,8.1,8.7,7.8,5.1,7.8,8.5,8.5,8,8.4,8.7,null,8.3,8.6,8.2,9.3,8.2,8.7,6.1,6.9,7.7,7.9,7.9,8.4,7.9],[2023,2018,2023,2020,2019,2023,2023,2023,2023,2021,2023,2018,2023,2020,2022,2017,2023,2015,2011,2023,2011,2019,2023,2015,2008,2023,2018,2010,2018,2023,2023,2023,2005,2021,2020,2021,2013,2011,2017,2014,2014,2016,2019,2005,2023,2019,1999,2005,2005,1999,2023,2021,2022,2013,2003,2005,2009,2023,2011,2023,2023,1994,2018,2018,2013,2017,2022,2023,2023,2022,2007,2017,2017,1997,2021,2021,2022,2022,2018,2023,2005,2013,2022,2011,2022,1987,2023,2019,2005,2023,2002,2021,2004,2023,2023,2010,2023,1997,2013,2021]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>rank<\/th>\n      <th>name<\/th>\n      <th>score<\/th>\n      <th>year<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"columnDefs":[{"className":"dt-right","targets":[1,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
]


---

class: action, middle

# &lt;i class="fa fa-pencil-square-o" style="font-size:48px;color:purple"&gt;&amp;nbsp;Group&amp;nbsp;Activity&amp;nbsp;2&lt;/i&gt;    


.pull-left-40[
![](https://media.giphy.com/media/RKApDdwsQ6jkwd6RNn/giphy.gif)
]
.pull-right-60[
&lt;br&gt;
&lt;br&gt;
.bq[
- Work on activity 2
- Ask me questions
]

]

<div class="countdown" id="timer_02ebd6d6" data-update-every="1" tabindex="0" style="top:0;right:0;padding:3px 4px;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "googlecode",
"highlightLines": true,
"highlightLanguage": ["r", "css", "yaml"],
"countIncrementalSlides": true,
"slideNumberFormat": "%current%",
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
