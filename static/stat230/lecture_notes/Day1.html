<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introduction to Regression</title>
    <meta charset="utf-8" />
    <meta name="author" content="Bastola" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <link href="libs/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding/datatables.js"></script>
    <script src="libs/jquery/jquery-3.6.0.min.js"></script>
    <link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.min.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <script src="https://use.fontawesome.com/5235085b15.js"></script>

    <link rel="stylesheet" href="css/xaringan-themer-solns.css" type="text/css" />
    <link rel="stylesheet" href="css/my-theme.css" type="text/css" />
    <link rel="stylesheet" href="css/my-font.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">





layout: true
  
&lt;!-- &lt;div class="my-footer"&gt;&lt;span&gt;Stat 230&lt;/span&gt;&lt;/div&gt; --&gt;
&lt;!-- this adds the link footer to all slides, depends on my-footer class in css--&gt;

---

class: title-slide, middle
&lt;!-- background-image: url("assets/title-image2.jpg") --&gt;
background-position: 10% 90%, 100% 50%
background-size: 160px, 100% 100%

# .fancy[Introduction to Regression]

### .fancy[Stat 230]

 March 28 2022

---

# Something about me

.pull-left[
.blockquote[
- First year at Carleton
- Originally from Nepal
- PhD in Applied Statistics from
UC-Riverside
- Diverse education background
- Avid learner and traveler
]

]
.pull-right[
&lt;center&gt;
&lt;img src="images/Deepak.jpg" width="75%" height="75%"&gt;&lt;br&gt;
&lt;a href="https://deepbas.io/"&gt;My webpage&lt;/a&gt;
&lt;/center&gt;
]

---

class: middle

# COVID-19 related policies

.blockquote-list[
- Stay home when sick. (Even if you don’t have COVID-19, you should
stay home if you aren’t feeling well.)
- Follow [CDC](https://www.cdc.gov/coronavirus/2019-ncov/vaccines/stay-up-to-date.html) on testing, quarantine, and isolation.
- Follow the College mask-wearing policy
]


---

class: middle

## What will you learn?

.blockquote-list[
- Expressing and interpreting basic models

- Fit and visualize regression models in R

- Assess the model fit with the data

- Understand various modeling goals
]

---

# What will a typical day/week look like?

Before Class:

.blockquote[
1. Some reading/video to introduce some topics
2. Will be updated in the weekly planner
]

During Class:

.blockquote[
1. Mini-lectures
2. Hands-on group activities
]
---

# How to do well in class?
.font80[
.blockquote-list[
Be up to date with the class materials
  - read the assigned chapters
  - watch posted videos
]
.blockquote-list[
Follow the in-class activity diligently
  - Try to learn the most here in class
  - Do not leave the class with more confusion
]
.blockquote-list[
Ask questions
  - Do not hesitate to ask questions
  - I may assume that you understood, if no one ask questions!
]
]


---

# Your introduction

.pull-left[
.blockquote-list[
- Your name?
- What gender pronouns do
you use?
- Favourite Mathematician/Scientist/Person?
- Recent fun memories?
]
]
.pull-right[
&lt;center&gt;
&lt;img src="images/indexcard.jpg" width="95%" height="85%"&gt;&lt;br&gt;
&lt;a&gt;Please fill in!&lt;/a&gt;
&lt;/center&gt;
]

---


# Linear Regression

&gt;  To describe (model) the relationship between a response variable and a predictor variable.

.pull-left[

&lt;br&gt;

&lt;img src="Day1_files/figure-html/unnamed-chunk-1-1.svg" width="70%" style="display: block; margin: auto;" /&gt;
]

.pull-right[
&lt;br&gt;

.font90[
.blockquote-list[
Many ways to refer
- .bold[x-variable:] Predictors, covariates, explanatory variable
- .bold[y-variable:] Response, outcome variable
]
]
]

---

.panelset[

.panel[.panel-name[Code]

```r
ggplot(sim_data) +
  aes(x = predictor, y = response) +
  geom_point() +
  labs(
    x = "Predictor Variable",
    y = "Response",
    title = "A Scatter Plot"
  ) +
  theme(plot.title = element_text(hjust=0.5, size=20, face='bold')) 
```



]

.panel[.panel-name[Output]

&lt;img src="Day1_files/figure-html/lemur-weight-1.svg" width="60%" style="display: block; margin: auto;" /&gt;

]

.panel[
.panel-name[Regression]

&lt;img src="Day1_files/figure-html/unnamed-chunk-2-1.svg" width="60%" style="display: block; margin: auto;" /&gt;
]

]

---

class: middle

## Real-life example: `cars` dataset

.pull-left[
.blockquote-list[
- Contains information on speed of cars and the distances taken to stop
- Recorded in the 1920s and contains 50 observations on 2 variables
]
]
.pull-right[
.code90[
.scroll-box-20[

<div id="htmlwidget-593bde0f735d05eac755" style="width:100%;height:30px;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-593bde0f735d05eac755">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],[4,4,7,7,8,9,10,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,16,16,17,17,17,18,18,18,18,19,19,19,20,20,20,20,20,22,23,24,24,24,24,25],[2,10,4,22,16,10,18,26,34,17,28,14,20,24,28,26,34,34,46,26,36,60,80,20,26,54,32,40,32,40,50,42,56,76,84,36,46,68,32,48,52,56,64,66,54,70,92,93,120,85]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>speed<\/th>\n      <th>dist<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

]
]
]

---

# Relationship between stopping distance and speed

.panelset.sideways[
.panel[.panel-name[Background]


&lt;blockquote&gt;
- We have pairs of data `\((x_i,y_i)\)` for `\(i = 1,2,...,n\)` 
- Here `\(i\)` is an index for each of the `\(n\)` observations
- We use `\(x_i\)` as the predictor (explanatory) variable
- The predictor variable is used to help predict or explain the response (outcome)
&lt;/blockquote&gt;
&lt;br&gt;

&gt; In our current example, the predictor is the speed and the response is the stopping distance

]

.panel[.panel-name[Scatterplot]
&lt;img src="Day1_files/figure-html/unnamed-chunk-4-1.svg" width="100%" style="display: block; margin: auto;" /&gt;
]


.panel[.panel-name[Model]
Y is linearly related to X within a certain range of error accounted by `\(\epsilon\)` 
`$$Y = \beta_0 + \beta_1 X + \epsilon$$`
.blockquote[
- Response = Prediction + Error
- Response = Signal + Noise
- Response = Model + Unexplained
- Response = Deterministic + Random
- Response = Explainable + Unexplainable
]

]

.panel[.panel-name[Model Fit]

&lt;img src="Day1_files/figure-html/unnamed-chunk-5-1.svg" width="100%" style="display: block; margin: auto;" /&gt;
]

.panel[.panel-name[Explanation]

.blockquote[

Which of the linear model most accurately reflect the "average" stopping distance a car in 1920 traversed for varying speeds?

]

- We are not just trying to find the relationship in this particular dataset, but in the whole population
- There are infinite number of lines and we try to find the one with "small errors"

]


.panel[.panel-name[Code]


```r
ggplot(cars, aes(speed, dist)) +
  geom_point() +
  geom_smooth(method = "lm")+
  theme_minimal() +
  labs(x='Speed (in Miles Per Hour)', 
       y='Stopping Distance (in Feet)', 
       title='Stopping Distance vs Speed') +
  theme(plot.title = element_text(hjust=0.5, 
                                  size=20, 
                                  face='bold')) 
```
]

]

---

# Why not just model with a horizontal line?

.panelset.sideways[

.panel[.panel-name[Plot]

&lt;img src="Day1_files/figure-html/unnamed-chunk-7-1.svg" width="100%" style="display: block; margin: auto;" /&gt;

]


.panel[.panel-name[Explanation]

&gt; We could model `\(Y\)` such that it does not depend on the value of `\(X\)`.


`$$Y = \bar{y} = constant$$`

- But this model does not explain most of the variability in `\(Y\)` and underfits the data
- We should make `\(Y\)` a linear function of `\(X\)`!

]
]

---

# Statistical Modeling

.pull-left[
Build a model (Theory)

.blockquote-list[
- model a population's mean response to explanatory variable(s)

- model the error (variation) of the response around the mean at each `\(X\)`

]
]

--

.pull-right[
Fit a model to data (Computation)

.blockquote-list[
- Using statistical software like R
- Interactive platform like RStudio
]
]

---

# R and RStudio

.pull-left[
R is a free statistical software
.blockquote-list[
Widespread use among research statisticians, consultants, and others who use lots of stats in their research
]
]
.pull-right[
RStudio is an interface with R
.blockquote-list[
- Offers same functionality as R but in a nicer user interface
- Plus has some useful additional features
]
]

&lt;br&gt;

.center.green[R is like a car engine and RStudio is like a car dashboard]

---
class: action

# &lt;i class="fa fa-pencil-square-o" style="font-size:48px;color:purple"&gt;&amp;nbsp;Your&amp;nbsp;Turn&amp;nbsp;1&lt;/i&gt;    

.blockquote[
- Your turn features are regularly used in this class
- This is your time to gauge your learning 
- Think of these as lab time under my supervision
- Feel free to sit with your group members next time
]

Please download the class activity RMarkdown (.Rmd) file from [moodle](https://moodle.carleton.edu/) and go over to [maize R server](https://maize.mathcs.carleton.edu/). Today, we will briefly go over some basic R codes!!

<div class="countdown" id="timer_6241c348" style="top:0;right:0;padding:3px 4px;font-size:2em;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

# Basic commands from R console

.code90[
```r
log(2^2) # basic arithmetic (log is ln)
```
```r
1:5 # vectors of numbers 1 thru 5
```
```r
c(3,1,2) # c = concatenate
```
```r
x &lt;- 10:1 # assignment
```
```r
x^2 # arithmetic on vectors
```
```r
x[c(2,4)] # subsetting
```
]

---


# Command outputs


```r
log(2^2) # basic arithmetic (log is ln)
[1] 1.386294
```

--


```r
1:5 # vectors of numbers 1 thru 5
[1] 1 2 3 4 5
```

--


```r
c(3,1,2) # c = concatenate
[1] 3 1 2
```

---

# Command outputs


```r
x &lt;- 10:1 # assignment
```

--


```r
x^2 # arithmetic on vectors
 [1] 100  81  64  49  36  25  16   9   4   1
```

--


```r
x[c(2,4)] # subsetting
[1] 9 7
```

---

# R Objects

&gt; Objects are created by many actions in R (assignment, loading data, running certain commands)

&gt; Type `ls()` or look in the Environment tab to see objects

R has a number of basic data types


```r
str(x) # reveals the structure
 int [1:10] 10 9 8 7 6 5 4 3 2 1
```

Common types: `numeric, int, factor, character, data.frame, lm, logical`

---

## R Workspace (WS) and Working Directory (WD)

.bold[Workspace]

&gt; All objects created in R are stored in the workspace (Environment tab).

--

.bold[Working Directory]

.blockquote[
- Folder where R looks for a WS, R files, and saves files
- Check your location with getwd()
]

--


```r
getwd()  # my working directory
[1] "/home/deepak/Desktop/Research/STAT230-Spring/lecture_notes"
```

---

# Make your work Reproducible


.blockquote[It is desirable to make our work reproducible so that anyone with access to our data can easily reproduce the results]

--

.blockquote[Making our work reproducible also means that we can conveniently reuse or modify previous works!]

--

&lt;br&gt;&lt;br&gt;

.center.font130.green[R Markdown helps us make our work reproducible]


---

# R Markdown

&gt; A R Markdown (.Rmd) file contains the commands and written analysis used to complete a data analysis for an assignment or report.

- The .Rmd file is compiled ("knit") to generate an HTML, PDF, or Word document with .bold[written analysis, R commands and output.]


--

&gt; You can write-up homework and reports as Markdown docs

- Work with simple .Rmd templates, add more complexity to it and knit often!


---

# .Rmd file

A typical .Rmd file needs 3 elements:

.blockquote[
- .bold[Header:] info like the title, author, and output type preferences
- .bold[Written analysis:] You can create formatted test elements like bold words, lists, section labels, latex equations, etc. on your final pdf/word/html document.
- .bold[R chunks:] R commands that you want evaluated.
]

--

&lt;br&gt;

&gt; After knitting the file, a pdf/html/Word file will be created in the same folder as the .Rmd file

---

# Practical Tips

&gt; When you knit a .Rmd file, Rstudio basically starts a completely new R session behind the scenes with a working directory in the same location as the .Rmd file.

--

.blockquote[
You must have all commands in your .Rmd for your file to knit correctly. Make sure your .Rmd has:
- a data loading command
- any package loading library commands
]

--

&gt; Knit your .Rmd doc often to catch small errors as they occur


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "googlecode",
"highlightLines": true,
"highlightLanguage": ["r", "css", "yaml"],
"countIncrementalSlides": true,
"slideNumberFormat": "%current%",
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
