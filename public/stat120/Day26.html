<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Regression</title>
    <meta charset="utf-8" />
    <meta name="author" content="Bastola" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <link href="libs/tachyons/tachyons.min.css" rel="stylesheet" />
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <link href="libs/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <script>window.xaringanExtraClipboard(null, {"button":"<i class=\"fa fa-clipboard\"><\/i>","success":"<i class=\"fa fa-check\" style=\"color: #90BE6D\"><\/i>","error":"<i class=\"fa fa-times-circle\" style=\"color: #F94144\"><\/i>"})</script>
    <link href="libs/font-awesome/css/all.min.css" rel="stylesheet" />
    <link href="libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <script src="https://use.fontawesome.com/5235085b15.js"></script>

    <link rel="stylesheet" href="css/xaringan-themer-solns.css" type="text/css" />
    <link rel="stylesheet" href="css/my-theme.css" type="text/css" />
    <link rel="stylesheet" href="css/my-font.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">








layout: true
  
---

class: title-slide, middle

# .fancy[Regression Revisited]

### .fancy[Stat 120]

 March 03 2024


---

class: middle

# Conducting a Linear Regression Test

.bqt.font90[
## .bold[Step 1: Stating the Hypotheses]

- Null Hypothesis `\((H_0)\)`: There is no linear relationship between the predictor and response variables. Mathematically, `\(H_0: \beta_1 = 0\)`.
- Alternative Hypothesis `\((H_1)\)`: There is a linear relationship between the predictor and response variables. Mathematically, `\(H_1: \beta_1 \neq 0\)`.
]

---

class: middle

# Conducting a Linear Regression Test

.bqt.font90[
## .bold[Step 2: Checking Conditions]

1. **Linearity:** The relationship between the predictor and response variable should be linear.
2. **Independence:** Observations are independent of each other.
3. **Homoscedasticity:** Constant variance of error terms.
4. **Normality:** The residuals of the model should be approximately normally distributed.
]

---

class: middle

# Conducting a Linear Regression Test


.bql.font90[
## .bold[Step 3: Calculating the t-Statistic]

The t-statistic is calculated using the formula:

$$ t = \frac{\hat{\beta}_1 - 0}{SE(\hat{\beta}_1)} $$

- `\(\hat{\beta}_1\)` is the estimated slope coefficient.
- `\(SE(\hat{\beta}_1)\)` is the standard error of the estimated slope.
]

.hljs[This statistic helps us determine if the observed relationship between the variables is statistically significant.]


---

class: middle

# Conducting a Linear Regression Test


.bq.font80[
## .bold[Step 4: Calculating the p-Value]

- The p-value is obtained from the t-distribution with `\(n - 2\)` degrees of freedom, where `\(n\)` is the number of observations.
- It indicates the probability of observing a t-statistic as extreme as, or more extreme than, the one calculated from the sample data, under the assumption that the null hypothesis is true.
]

---

class: middle

# Conducting a Linear Regression Test



.bqt.font80[
## .bold[Step 5: Drawing Conclusions]

- **If p-value &lt; `\(\alpha\)`:** Reject `\(H_0\)`. There is sufficient evidence to conclude there is a significant linear relationship between the predictor and response variable.
- **If p-value &gt; `\(\alpha\)`:** Fail to reject `\(H_0\)`. There is not enough evidence to conclude there is a significant linear relationship.
]

---

class: middle

## Confidence Interval for the Slope

.bqt.font90[
- A 95% confidence interval for the slope `\((\beta_1)\)` can be calculated as:

$$ CI: \hat{\beta}_1 \pm t^* \cdot SE(\hat{\beta}_1) $$

- `\(t^*\)` is the threshold from the t-distribution for a given confidence level.
]


.hljs[
### .bold[Interpreting the Confidence Interval]

- If the confidence interval for `\(\beta_1\)` does not include 0, it supports the conclusion that there is a significant linear relationship.
- The confidence interval provides a range of plausible values for the slope, giving insight into the strength and direction of the relationship.
]

---

class: middle

# Case Study

.pull-left[
.bql[
.b[Objective:]
Learn to conduct linear regression analysis, focusing on GPA as a response to studying mathematics.

.b[Dataset:]
School score data comprising GPA and average years spent studying mathematics.
]
]


.pull-right[
.b[Tools:]

- R for data analysis
- `ggplot2` for data visualization
- Base R plots for diagnostic checks
]

---


class: action

# &lt;i class="fa fa-pencil-square-o" style="font-size:48px;color:purple"&gt;&amp;nbsp;Your&amp;nbsp;Turn&amp;nbsp;1&lt;/i&gt;    

.pull-left-40[
![](https://media.giphy.com/media/RKApDdwsQ6jkwd6RNn/giphy.gif)
]
.pull-right-60[

&lt;br&gt;
&lt;br&gt;

.bql[
- Go over to the in-class activity file
- Let's do a case study together as a class
]
]

<div class="countdown" id="timer_e1e90cfd" data-update-every="1" tabindex="0" style="top:0;right:0;padding:3px 4px;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">40</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>


---

class: middle

# Step 1: Load and Inspect Data



```r
# load school_scores.csv from your data directory
school_scores &lt;- readr::read_csv("data/school_scores.csv")
# View the structure of the dataset
dplyr::glimpse(school_scores)
```

```
Rows: 577
Columns: 99
$ Year                                                      &lt;dbl&gt; 2005, 2005, …
$ State.Code                                                &lt;chr&gt; "AL", "AK", …
$ State.Name                                                &lt;chr&gt; "Alabama", "…
$ Total.Math                                                &lt;dbl&gt; 559, 519, 53…
$ `Total.Test-takers`                                       &lt;dbl&gt; 3985, 3996, …
$ Total.Verbal                                              &lt;dbl&gt; 567, 523, 52…
$ `Academic Subjects.Arts/Music.Average GPA`                &lt;dbl&gt; 3.92, 3.76, …
$ `Academic Subjects.Arts/Music.Average Years`              &lt;dbl&gt; 2.2, 1.9, 2.…
$ `Academic Subjects.English.Average GPA`                   &lt;dbl&gt; 3.53, 3.35, …
$ `Academic Subjects.English.Average Years`                 &lt;dbl&gt; 3.9, 3.9, 3.…
$ `Academic Subjects.Foreign Languages.Average GPA`         &lt;dbl&gt; 3.54, 3.34, …
$ `Academic Subjects.Foreign Languages.Average Years`       &lt;dbl&gt; 2.6, 2.1, 2.…
$ `Academic Subjects.Mathematics.Average GPA`               &lt;dbl&gt; 3.41, 3.06, …
$ `Academic Subjects.Mathematics.Average Years`             &lt;dbl&gt; 4.0, 3.5, 3.…
$ `Academic Subjects.Natural Sciences.Average GPA`          &lt;dbl&gt; 3.52, 3.25, …
$ `Academic Subjects.Natural Sciences.Average Years`        &lt;dbl&gt; 3.9, 3.2, 3.…
$ `Academic Subjects.Social Sciences/History.Average GPA`   &lt;dbl&gt; 3.59, 3.39, …
$ `Academic Subjects.Social Sciences/History.Average Years` &lt;dbl&gt; 3.9, 3.4, 3.…
$ `Family Income.Between 20-40k.Math`                       &lt;dbl&gt; 513, 492, 49…
$ `Family Income.Between 20-40k.Test-takers`                &lt;dbl&gt; 324, 401, 21…
$ `Family Income.Between 20-40k.Verbal`                     &lt;dbl&gt; 527, 500, 49…
$ `Family Income.Between 40-60k.Math`                       &lt;dbl&gt; 539, 517, 52…
$ `Family Income.Between 40-60k.Test-takers`                &lt;dbl&gt; 442, 539, 22…
$ `Family Income.Between 40-60k.Verbal`                     &lt;dbl&gt; 551, 522, 51…
$ `Family Income.Between 60-80k.Math`                       &lt;dbl&gt; 550, 513, 52…
$ `Family Income.Between 60-80k.Test-takers`                &lt;dbl&gt; 473, 603, 23…
$ `Family Income.Between 60-80k.Verbal`                     &lt;dbl&gt; 564, 519, 52…
$ `Family Income.Between 80-100k.Math`                      &lt;dbl&gt; 566, 528, 53…
$ `Family Income.Between 80-100k.Test-takers`               &lt;dbl&gt; 475, 444, 18…
$ `Family Income.Between 80-100k.Verbal`                    &lt;dbl&gt; 577, 534, 53…
$ `Family Income.Less than 20k.Math`                        &lt;dbl&gt; 462, 464, 48…
$ `Family Income.Less than 20k.Test-takers`                 &lt;dbl&gt; 175, 191, 89…
$ `Family Income.Less than 20k.Verbal`                      &lt;dbl&gt; 474, 467, 47…
$ `Family Income.More than 100k.Math`                       &lt;dbl&gt; 588, 541, 55…
$ `Family Income.More than 100k.Test-takers`                &lt;dbl&gt; 980, 540, 30…
$ `Family Income.More than 100k.Verbal`                     &lt;dbl&gt; 590, 544, 54…
$ `GPA.A minus.Math`                                        &lt;dbl&gt; 569, 544, 54…
$ `GPA.A minus.Test-takers`                                 &lt;dbl&gt; 724, 673, 33…
$ `GPA.A minus.Verbal`                                      &lt;dbl&gt; 575, 546, 53…
$ `GPA.A plus.Math`                                         &lt;dbl&gt; 622, 600, 60…
$ `GPA.A plus.Test-takers`                                  &lt;dbl&gt; 563, 173, 16…
$ `GPA.A plus.Verbal`                                       &lt;dbl&gt; 623, 604, 59…
$ GPA.A.Math                                                &lt;dbl&gt; 600, 580, 57…
$ `GPA.A.Test-takers`                                       &lt;dbl&gt; 1032, 671, 3…
$ GPA.A.Verbal                                              &lt;dbl&gt; 608, 578, 56…
$ GPA.B.Math                                                &lt;dbl&gt; 514, 492, 49…
$ `GPA.B.Test-takers`                                       &lt;dbl&gt; 1253, 1622, …
$ GPA.B.Verbal                                              &lt;dbl&gt; 525, 499, 49…
$ GPA.C.Math                                                &lt;dbl&gt; 436, 466, 45…
$ `GPA.C.Test-takers`                                       &lt;dbl&gt; 188, 418, 11…
$ GPA.C.Verbal                                              &lt;dbl&gt; 451, 472, 46…
$ `GPA.D or lower.Math`                                     &lt;dbl&gt; 0, 424, 439,…
$ `GPA.D or lower.Test-takers`                              &lt;dbl&gt; 0, 12, 16, 0…
$ `GPA.D or lower.Verbal`                                   &lt;dbl&gt; 0, 466, 435,…
$ `GPA.No response.Math`                                    &lt;dbl&gt; 0, 0, 0, 0, …
$ `GPA.No response.Test-takers`                             &lt;dbl&gt; 225, 427, 91…
$ `GPA.No response.Verbal`                                  &lt;dbl&gt; 0, 0, 0, 0, …
$ Gender.Female.Math                                        &lt;dbl&gt; 538, 505, 51…
$ `Gender.Female.Test-takers`                               &lt;dbl&gt; 2072, 2161, …
$ Gender.Female.Verbal                                      &lt;dbl&gt; 561, 521, 52…
$ Gender.Male.Math                                          &lt;dbl&gt; 582, 535, 54…
$ `Gender.Male.Test-takers`                                 &lt;dbl&gt; 1913, 1835, …
$ Gender.Male.Verbal                                        &lt;dbl&gt; 574, 526, 53…
$ `Score Ranges.Between 200 to 300.Math.Females`            &lt;dbl&gt; 22, 30, 119,…
$ `Score Ranges.Between 200 to 300.Math.Males`              &lt;dbl&gt; 10, 20, 72, …
$ `Score Ranges.Between 200 to 300.Math.Total`              &lt;dbl&gt; 32, 50, 191,…
$ `Score Ranges.Between 200 to 300.Verbal.Females`          &lt;dbl&gt; 14, 26, 115,…
$ `Score Ranges.Between 200 to 300.Verbal.Males`            &lt;dbl&gt; 17, 26, 86, …
$ `Score Ranges.Between 200 to 300.Verbal.Total`            &lt;dbl&gt; 31, 52, 201,…
$ `Score Ranges.Between 300 to 400.Math.Females`            &lt;dbl&gt; 173, 233, 88…
$ `Score Ranges.Between 300 to 400.Math.Males`              &lt;dbl&gt; 93, 153, 450…
$ `Score Ranges.Between 300 to 400.Math.Total`              &lt;dbl&gt; 266, 386, 13…
$ `Score Ranges.Between 300 to 400.Verbal.Females`          &lt;dbl&gt; 123, 218, 73…
$ `Score Ranges.Between 300 to 400.Verbal.Males`            &lt;dbl&gt; 84, 171, 613…
$ `Score Ranges.Between 300 to 400.Verbal.Total`            &lt;dbl&gt; 207, 389, 13…
$ `Score Ranges.Between 400 to 500.Math.Females`            &lt;dbl&gt; 514, 696, 32…
$ `Score Ranges.Between 400 to 500.Math.Males`              &lt;dbl&gt; 293, 485, 19…
$ `Score Ranges.Between 400 to 500.Math.Total`              &lt;dbl&gt; 807, 1181, 5…
$ `Score Ranges.Between 400 to 500.Verbal.Females`          &lt;dbl&gt; 430, 656, 30…
$ `Score Ranges.Between 400 to 500.Verbal.Males`            &lt;dbl&gt; 332, 552, 23…
$ `Score Ranges.Between 400 to 500.Verbal.Total`            &lt;dbl&gt; 762, 1208, 5…
$ `Score Ranges.Between 500 to 600.Math.Females`            &lt;dbl&gt; 722, 813, 35…
$ `Score Ranges.Between 500 to 600.Math.Males`              &lt;dbl&gt; 614, 616, 31…
$ `Score Ranges.Between 500 to 600.Math.Total`              &lt;dbl&gt; 1336, 1429, …
$ `Score Ranges.Between 500 to 600.Verbal.Females`          &lt;dbl&gt; 690, 729, 36…
$ `Score Ranges.Between 500 to 600.Verbal.Males`            &lt;dbl&gt; 617, 596, 31…
$ `Score Ranges.Between 500 to 600.Verbal.Total`            &lt;dbl&gt; 1307, 1325, …
$ `Score Ranges.Between 600 to 700.Math.Females`            &lt;dbl&gt; 485, 342, 16…
$ `Score Ranges.Between 600 to 700.Math.Males`              &lt;dbl&gt; 611, 445, 21…
$ `Score Ranges.Between 600 to 700.Math.Total`              &lt;dbl&gt; 1096, 787, 3…
$ `Score Ranges.Between 600 to 700.Verbal.Females`          &lt;dbl&gt; 596, 423, 18…
$ `Score Ranges.Between 600 to 700.Verbal.Males`            &lt;dbl&gt; 613, 375, 16…
$ `Score Ranges.Between 600 to 700.Verbal.Total`            &lt;dbl&gt; 1209, 798, 3…
$ `Score Ranges.Between 700 to 800.Math.Females`            &lt;dbl&gt; 156, 47, 327…
$ `Score Ranges.Between 700 to 800.Math.Males`              &lt;dbl&gt; 292, 116, 63…
$ `Score Ranges.Between 700 to 800.Math.Total`              &lt;dbl&gt; 448, 163, 95…
$ `Score Ranges.Between 700 to 800.Verbal.Females`          &lt;dbl&gt; 219, 109, 41…
$ `Score Ranges.Between 700 to 800.Verbal.Males`            &lt;dbl&gt; 250, 115, 50…
$ `Score Ranges.Between 700 to 800.Verbal.Total`            &lt;dbl&gt; 469, 224, 91…
```


---

class: middle

# Step 2: Data Cleaning

.pull-left[
Cleaning Tasks:

- Standardize column names
- Remove rows with missing values
]

.pull-right[


```r
school_scores_clean &lt;- school_scores %&gt;%
  janitor::clean_names() %&gt;%
  tidyr::drop_na()
```

]

---

class: middle

# Step 3: Data Manipulation


```r
school_final &lt;- school_scores_clean %&gt;%
  dplyr::select(academic_subjects_mathematics_average_gpa, state_name,
                academic_subjects_mathematics_average_years, total_math
                ) %&gt;%
mutate(GPA_category = cut(academic_subjects_mathematics_average_gpa,
                            breaks = c(-Inf, 3.25, 3.5, Inf),
                            labels = c("Low", "Good", "Excellent")))
```


---


.panelset[

.panel[.panel-name[Step 4: Exploratory Data Analysis (EDA)]
&lt;img src="Day26_files/figure-html/unnamed-chunk-4-1.svg" width="70%" style="display: block; margin: auto;" /&gt;
]


.panel[.panel-name[Code]

```r
ggplot(data = school_final, aes(x = academic_subjects_mathematics_average_years, 
                                y = academic_subjects_mathematics_average_gpa)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE, color = "red") +
  labs(x = "Study Years", y = "GPA")
```
]


]


---

class: middle

## Step 5: Linear Regression Model

.font40[

```r
GPA.lm &lt;- lm(academic_subjects_mathematics_average_gpa ~ 
               academic_subjects_mathematics_average_years, 
             data = school_final)
summary(GPA.lm)
```

```

Call:
lm(formula = academic_subjects_mathematics_average_gpa ~ academic_subjects_mathematics_average_years, 
    data = school_final)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.33812 -0.10344  0.00478  0.11188  0.38478 

Coefficients:
                                            Estimate Std. Error t value
(Intercept)                                  -0.5592     0.1348  -4.147
academic_subjects_mathematics_average_years   0.9823     0.0342  28.725
                                            Pr(&gt;|t|)    
(Intercept)                                 3.87e-05 ***
academic_subjects_mathematics_average_years  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.138 on 575 degrees of freedom
Multiple R-squared:  0.5893,	Adjusted R-squared:  0.5886 
F-statistic: 825.1 on 1 and 575 DF,  p-value: &lt; 2.2e-16
```
]


---

class: middle

## Step 6: Diagnostic Plots: Residual Plot





&lt;img src="Day26_files/figure-html/unnamed-chunk-7-1.svg" width="90%" style="display: block; margin: auto;" /&gt;


---

class: middle

## Step 6: Diagnostic Plots: QQ Plot



&lt;img src="Day26_files/figure-html/unnamed-chunk-8-1.svg" width="90%" style="display: block; margin: auto;" /&gt;



---

class: middle

# Step 7: Hypothesis Testing for Slope

.hljs[
`\(H_0: \beta_1 = 0\)` (No relationship)
`\(H_1: \beta_1 \neq 0\)` (A relationship exists)
]

.bql[
Hypothesis tests for the slope follow the formula:

`$$t=\frac{b_1-\text { null slope }}{S E}$$` 
]


```r
slope_estimate &lt;- coef(GPA.lm)["academic_subjects_mathematics_average_years"]
slope_std_error &lt;- summary(GPA.lm)$coefficients["academic_subjects_mathematics_average_years", "Std. Error"]
t_value &lt;- (slope_estimate- 0) / slope_std_error
p_value &lt;- 2 * pt(-abs(t_value), df = summary(GPA.lm)$df[2])
```

.pull-left[


```r
t_value
academic_subjects_mathematics_average_years 
                                   28.72521 
```

]
.pull-right[

```r
p_value
academic_subjects_mathematics_average_years 
                              3.285648e-113 
```

]

---


class: middle

# Step 8: CI for Slope

.hljs[
`\(H_0: \beta_1 = 0\)` (No relationship)
`\(H_1: \beta_1 \neq 0\)` (A relationship exists)
]

.bql[
Confidence intervals for the slope follow the formula:

`$$b_1 \pm t^* \cdot S E$$`
where `\(b_1\)` is the slope estimate, `\(SE(b_1)\)` is the standard error of the slope, and `\(t^*\)` is the threshold from the t-distribution.

]


```r
conf_interval &lt;- confint(GPA.lm, "academic_subjects_mathematics_average_years", level = 0.95)
conf_interval
```

```
                                               2.5 %   97.5 %
academic_subjects_mathematics_average_years 0.915102 1.049427
```


---

class: middle

# Step 9: Handling Outliers


&lt;img src="Day26_files/figure-html/unnamed-chunk-13-1.svg" width="70%" style="display: block; margin: auto;" /&gt;

.hljs[
Visual inspection using boxplots helps in spotting outliers within these categories.
]

---

class: middle

# Step 10: Removing Outliers

&lt;img src="Day26_files/figure-html/unnamed-chunk-14-1.svg" width="70%" style="display: block; margin: auto;" /&gt;


.hljs[With outliers removed, we re-visualize the math SAT scores across GPA categories to better understand the data distribution.]



    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "googlecode",
"highlightLines": true,
"highlightLanguage": ["r", "css", "yaml"],
"countIncrementalSlides": true,
"slideNumberFormat": "%current%",
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
