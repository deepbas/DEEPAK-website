<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Understanding Confidence Intervals and Bootstrap</title>
    <meta charset="utf-8" />
    <meta name="author" content="Bastola" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <link href="libs/tachyons/tachyons.min.css" rel="stylesheet" />
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <link href="libs/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <script>window.xaringanExtraClipboard(null, {"button":"<i class=\"fa fa-clipboard\"><\/i>","success":"<i class=\"fa fa-check\" style=\"color: #90BE6D\"><\/i>","error":"<i class=\"fa fa-times-circle\" style=\"color: #F94144\"><\/i>"})</script>
    <link href="libs/font-awesome/css/all.css" rel="stylesheet" />
    <link href="libs/font-awesome/css/v4-shims.css" rel="stylesheet" />
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <script src="https://use.fontawesome.com/5235085b15.js"></script>

    <link rel="stylesheet" href="css/xaringan-themer-solns.css" type="text/css" />
    <link rel="stylesheet" href="css/my-theme.css" type="text/css" />
    <link rel="stylesheet" href="css/my-font.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">










layout: true
  
&lt;!-- &lt;div class="my-footer"&gt;&lt;span&gt;Stat 230&lt;/span&gt;&lt;/div&gt; --&gt;
&lt;!-- this adds the link footer to all slides, depends on my-footer class in css--&gt;

---

class: title-slide, middle
&lt;!-- background-image: url("assets/title-image2.jpg") --&gt;
background-position: 10% 90%, 100% 50%
background-size: 160px, 100% 100%

# .fancy[Understanding Confidence Intervals and Bootstrap]

### .fancy[Stat 120]

 April 15 2022


---

class: middle

## Confidence Interval Recap

.blockquote-list[A .bold[confidence interval] for a parameter is an interval computed from sample data by a method that will capture the parameter for a specified proportion of all samples.

`$$CI = PE \pm ME$$`
.bold[95 % CI] $$ statistic \pm 2\times SE $$

]


---

class: middle

#  Conceptual Understanding: Repeated Sampling

.pull-left[
&lt;br&gt;
.blockquote[
- The success rate (proportion of all samples whose intervals contain the parameter) is known as the .bold[confidence level]

- A 95% confidence interval will contain the true .bold[parameter] for 95% of all samples
]
]

.pull-right[
&lt;center&gt;
&lt;img src="images/skconfidence.png" width="70%" height="80%"&gt;&lt;br&gt;
&lt;a&gt;Repeated Sampling of 100 95% Confidence Intervals, Truth = Vertical Line&lt;/a&gt;
&lt;/center&gt;
]

---

class: middle

# Example 1

A survey of .bold[1,502] Americans in January 2012 found that .bold[86%] consider the economy a “top priority” for the president and congress. The standard error for this statistic is .bold[0.01]. 

.blockquote-list[

What is the .bold[95% confidence interval] for the true proportion of all Americans that considered the economy a “top priority” at that time?


(1). (0.85, 0.87)

(2). (0.84, 0.88)

(3). (0.82, 0.90)

]

&lt;br&gt;
&lt;details&gt;
&lt;summary&gt;Click for answer&lt;/summary&gt;
The correct answer is (2).
&lt;/details&gt;

.footnote[Click [here](https://www.pewresearch.org/politics/2012/01/23/public-priorities-deficit-rising-terrorism-slipping/) for the link]

---

class: middle

# Confidence Interval Interpretation

.blockquote-list[

Which of the following is an appropriate .bold[interpretation] for a 95% confidence interval:

A. “we are 95% sure the interval contains the parameter”

B. “there is a 95% chance the interval contains the parameter”

C. Both A and B

D. Neither A nor B
]

&lt;br&gt;
&lt;details&gt;
&lt;summary&gt;Click for answer&lt;/summary&gt;
The correct answer is A.
&lt;/details&gt;



---


# Common Misintepretations

.blockquote-list[
- .bold[Misinterpretation 1:] “A 95% confidence interval contains 95% of the data in the population"
- .bold[Misinterpretation 2:] “I am 95% sure that the mean of a sample will fall within a 95% confidence interval for the mean”
- .bold[Misinterpretation 3:] “The probability that the population parameter is in this particular 95% confidence interval is 0.95”

]

--

&lt;br&gt;

.yellow-h.font120[I am 95% sure that the mean of a population will fall within a 95% confidence interval for the mean]

---

class: middle

# Example 2

.blockquote[
A 98% confidence interval for mean pulse rate is 65 to 71.  The interpretation “I am 98% sure that all students will have pulse rates between 65 and 71.” is

A. Correct

B. Incorrect

]

&lt;br&gt;
&lt;details&gt;
&lt;summary&gt;Click for answer&lt;/summary&gt;
The correct answer is B.
&lt;/details&gt;

---

class: middle

# Example 3

.blockquote[
A 98% confidence interval for mean pulse rate is 65 to 71.  The interpretation “I am 98% sure that the mean pulse rate for this sample of students will fall between 65 and 71” is


A. Correct

B. Incorrect

]

&lt;br&gt;
&lt;details&gt;
&lt;summary&gt;Click for answer&lt;/summary&gt;
The correct answer is B.
&lt;/details&gt;

---

class: middle

# Example 4

.blockquote[
A 98% confidence interval for mean pulse rate is 65 to 71.  The interpretation “I am 98% sure that the mean pulse rate for the population of all students will fall between 65 and 71” is


A. Correct

B. Incorrect

]

&lt;br&gt;
&lt;details&gt;
&lt;summary&gt;Click for answer&lt;/summary&gt;
The correct answer is A.
&lt;/details&gt;

---

class: middle

# Level of Confidence

.blockquote[Which is wider? a 99% confidence interval or a 95% confidence interval?

(a) 95% CI

(b) 99% CI

]

&lt;br&gt;
&lt;details&gt;
&lt;summary&gt;Click for answer&lt;/summary&gt;
The correct answer is (b). We need a larger interval (range of likely parameter values) to have more confidence.
&lt;/details&gt;

---

# Review

&lt;center&gt;
&lt;img src="images/cireview.png" width="60%" height="60%"&gt;&lt;br&gt;
&lt;a&gt;A nice infographic review&lt;/a&gt;
&lt;/center&gt;

---

# Sampling Distribution Vs Bootstrap Distribution

.pull-left[

.blockquote[
.bold[Sampling Distribution of a statistic]

- Take .red[many samples] from the population, compute the statistic for each sample
- .bold[Shape:] bell-shaped when n is large
- .bold[Center:] population parameter
- .bold[Spread:] called the SE of the statistic
&lt;br&gt;
&lt;br&gt;
]
]

.pull-right[
.blockquote[

.bold[Bootstrap Distribution of a statistic]

- Take .red[many bootstrap samples] from the original sample, compute the statistic for each bootstrap sample
- .bold[Shape:] bell-shaped when n is large
- .bold[Center:] original sample statistic!
- .bold[Spread:] caled the bootstrap SE of the statistic
]

]

--

&lt;br&gt;
.out-t.center[The .bold[standard errors] from both approaches should be similar!!]


---

# Percentile Method Bootstrap

.blockquote.font90[If the bootstrap distribution is approximately symmetric, a P% confidence interval equals the percentiles in the bootstrap distribution so that the proportion of bootstrap statistics between the percentiles equal P%.]

&lt;center&gt;
&lt;img src="images/bootpercentile.png" width="60%" height="60%"&gt;&lt;br&gt;
&lt;a&gt;Percentiles of a bootstrap distribution&lt;/a&gt;
&lt;/center&gt;

---

class: middle

# The Magic of Bootstrapping

.blockquote.font90[
- We can use bootstrapping to approximate the SE for .bold[many types] of sample statistic!
    - Mean, proportion, differences, correlation, slope
    - Standard deviation, *median*

- What should the bootstrap distribution .bold[look] like?
    - “smooth” (i.e. not a lot of spikey-ness)
    - If using `\(95\% ME = 2SE\)`, should be symmetric and bell-shaped.
]


---

# Mercury and pH in Lakes

For Florida lakes, what is the correlation between average mercury level (ppm) in fish taken from a lake and acidity (pH) of the lake?

.pull-left[


&lt;center&gt;
&lt;img src="images/mercury.png" width="90%" height="90%"&gt;&lt;br&gt;
&lt;a&gt;Mercury levels vs. pH&lt;/a&gt;
&lt;/center&gt;


]
.pull-right[

&lt;center&gt;
&lt;img src="images/lake.jpg" width="60%" height="60%"&gt;&lt;br&gt;
&lt;a&gt;A lake in Florida&lt;/a&gt;
&lt;/center&gt;

.blockquote[
`\(r = -0.575\)`

Give a 90% CI for `\(\rho\)`?
]
]


.footnote[Lange, Royals, and Connor, Transactions of the American Fisheries Society (1993)]

---

## Mercury and pH in Lakes (Link to [Statkey](http://www.lock5stat.com/StatKey/index.html))

&lt;center&gt;
&lt;img src="images/rho.png" width="50%" height="50%"&gt;&lt;br&gt;
&lt;a&gt;Bootstrapping correlation parameter.&lt;/a&gt;
&lt;/center&gt;

.out-t.font80[We are 90% confident that the true correlation between average mercury level and pH of Florida lakes is between -0.702 and -0.433.]


---

class: middle

# Bootstrap Caution!

.blockquote[
- These methods for creating a confidence interval only work if the bootstrap distribution is smooth and symmetric

- .bold[ALWAYS] look at a plot of the bootstrap distribution!

- If the bootstrap distribution is highly skewed or looks “spiky” with gaps, you will need to go beyond intro stat to create a confidence interval 
]


---

class: action

# &lt;i class="fa fa-pencil-square-o" style="font-size:48px;color:purple"&gt;&amp;nbsp;Your&amp;nbsp;Turn&amp;nbsp;1&lt;/i&gt;    

.pull-left-40[
![](https://media.giphy.com/media/RKApDdwsQ6jkwd6RNn/giphy.gif)
]
.pull-right-60[

&lt;br&gt;
&lt;br&gt;
.blockquote[

&lt;br&gt;

Skim through the remaining portion of in class activity and we will discuss this together!

]
]

<div class="countdown" id="timer_625979d0" style="top:0;right:0;padding:3px 4px;font-size:2em;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "googlecode",
"highlightLines": true,
"highlightLanguage": ["r", "css", "yaml"],
"countIncrementalSlides": true,
"slideNumberFormat": "%current%",
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
